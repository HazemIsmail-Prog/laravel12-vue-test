import{d as y,s as z,g,w as r,r as V,f as e,o as p,p as A,v as B,x as I,y as P,z as K,c as L,n as N,e as l,A as M,B as j,C as H,l as h,t as b,a as k,q as C,k as O}from"./app-wShsZ3fb.js";import{_ as F}from"./InputError.vue_vue_type_script_setup_true_lang-BfdGHmMf.js";import{P as D,c as q,_ as R}from"./index-B5f_MCT_.js";import{u as G}from"./useForwardPropsEmits-De2gnoms.js";import{c as J}from"./VisuallyHidden-CUMuN7QL.js";import{V as Q,u as W}from"./VisuallyHiddenInput-fKSidZlM.js";import{u as X,a as T}from"./useForwardExpose-DwumjNk7.js";import{r as Y}from"./index-gkJMhtZ0.js";import{_ as U}from"./Input.vue_vue_type_script_setup_true_lang-G6hB-_Cq.js";import{_ as S}from"./Label.vue_vue_type_script_setup_true_lang-BXoIZy-v.js";import{D as Z,_ as x,a as ee,b as ae,c as te,d as se}from"./SheetTitle.vue_vue_type_script_setup_true_lang-Bu4B5yjy.js";import{_ as le}from"./Spinner.vue_vue_type_script_setup_true_lang-s5VG2duW.js";const[re,oe]=J("SwitchRoot");var de=y({__name:"SwitchRoot",props:{defaultValue:{type:Boolean,required:!1},modelValue:{type:[Boolean,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},value:{type:String,required:!1,default:"on"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(m,{emit:u}){const s=m,c=u,{disabled:a}=z(s),i=X(s,"modelValue",c,{defaultValue:s.defaultValue,passive:s.modelValue===void 0});function d(){a.value||(i.value=!i.value)}const{forwardRef:v,currentElement:_}=T(),w=W(_),$=K(()=>s.id&&_.value?document.querySelector(`[for="${s.id}"]`)?.innerText:void 0);return oe({modelValue:i,toggleCheck:d,disabled:a}),(o,E)=>(p(),g(e(D),B(o.$attrs,{id:o.id,ref:e(v),role:"switch",type:o.as==="button"?"button":void 0,value:o.value,"aria-label":o.$attrs["aria-label"]||$.value,"aria-checked":e(i),"aria-required":o.required,"data-state":e(i)?"checked":"unchecked","data-disabled":e(a)?"":void 0,"as-child":o.asChild,as:o.as,disabled:e(a),onClick:d,onKeydown:I(P(d,["prevent"]),["enter"])}),{default:r(()=>[V(o.$slots,"default",{modelValue:e(i)}),e(w)&&o.name?(p(),g(e(Q),{key:0,type:"checkbox",name:o.name,disabled:e(a),required:o.required,value:o.value,checked:!!e(i)},null,8,["name","disabled","required","value","checked"])):A("v-if",!0)]),_:3},16,["id","type","value","aria-label","aria-checked","aria-required","data-state","data-disabled","as-child","as","disabled","onKeydown"]))}}),ie=de,ue=y({__name:"SwitchThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(m){const u=re();return T(),(s,c)=>(p(),g(e(D),{"data-state":e(u).modelValue?.value?"checked":"unchecked","data-disabled":e(u).disabled.value?"":void 0,"as-child":s.asChild,as:s.as},{default:r(()=>[V(s.$slots,"default")]),_:3},8,["data-state","data-disabled","as-child","as"]))}}),ne=ue;const me=y({__name:"SheetClose",props:{asChild:{type:Boolean},as:{}},setup(m){const u=m;return(s,c)=>(p(),g(e(Z),B({"data-slot":"sheet-close"},u),{default:r(()=>[V(s.$slots,"default")]),_:3},16))}}),ce=y({__name:"SheetFooter",props:{class:{}},setup(m){const u=m;return(s,c)=>(p(),L("div",{"data-slot":"sheet-footer",class:N(e(q)("mt-auto flex flex-col gap-2 p-4",u.class))},[V(s.$slots,"default")],2))}}),fe=y({__name:"Switch",props:{defaultValue:{type:Boolean},modelValue:{type:[Boolean,null]},disabled:{type:Boolean},id:{},value:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(m,{emit:u}){const s=m,c=u,a=Y(s,"class"),i=G(a,c);return(d,v)=>(p(),g(e(ie),B({"data-slot":"switch"},e(i),{class:e(q)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s.class)}),{default:r(_=>[l(e(ne),{"data-slot":"switch-thumb",class:N(e(q)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"))},{default:r(()=>[V(d.$slots,"thumb",M(j(_)))]),_:2},1032,["class"])]),_:3},16,["class"]))}}),pe={class:"grid flex-1 auto-rows-min gap-6 px-4"},ve={class:"grid gap-3"},_e={class:"grid gap-3"},he={class:"flex items-center space-x-2"},Fe=y({__name:"Form",emits:["user-updated","user-created"],setup(m,{expose:u,emit:s}){const c=localStorage.getItem("locale")||"en",a=H({id:0,name:"",email:"",is_active:!0}),i=C(!1),d=C(!1),v=C(!1),_=t=>({id:t?.id??0,name:t?.name??"",email:t?.email??"",is_active:t?.is_active??!0}),w=t=>{a.defaults(_(t)),a.resetAndClearErrors(),d.value=!!t,i.value=!0},$=()=>{i.value=!1,a.defaults(_()),a.resetAndClearErrors()},o=s,E=()=>{const t=d.value?"put":"post",f=d.value?"/users/"+a.id:"/users";v.value=!0,O[t](f,a.data()).then(n=>{d.value?o("user-updated",n.data):o("user-created",n.data),$()}).catch(n=>{a.errors=n.response.data.errors}).finally(()=>{v.value=!1})};return u({openSheet:w,closeSheet:$}),(t,f)=>(p(),g(e(se),{open:i.value,"onUpdate:open":$},{default:r(()=>[l(e(x),{side:e(c)==="ar"?"left":"right"},{default:r(()=>[l(e(ee),null,{default:r(()=>[l(e(ae),null,{default:r(()=>[h(b(d.value?t.$t("Edit User"):t.$t("Add User")),1)]),_:1}),l(e(te),null,{default:r(()=>[h(b(d.value?t.$t("Edit the details to update the user."):t.$t("Fill in the details to add a new user.")),1)]),_:1})]),_:1}),k("form",{onSubmit:P(E,["prevent"])},[k("div",pe,[k("div",ve,[l(e(S),{for:"form-name_en"},{default:r(()=>[h(b(t.$t("Name")),1)]),_:1}),l(e(U),{"aria-invalid":!!e(a).errors?.name?.[0],id:"form-name_en",placeholder:t.$t("Name"),modelValue:e(a).name,"onUpdate:modelValue":f[0]||(f[0]=n=>e(a).name=n),"default-value":e(a).name},null,8,["aria-invalid","placeholder","modelValue","default-value"]),l(F,{message:e(a).errors?.name?.[0]},null,8,["message"])]),k("div",_e,[l(e(S),{for:"form-email"},{default:r(()=>[h(b(t.$t("Email")),1)]),_:1}),l(e(U),{"aria-invalid":!!e(a).errors?.email?.[0],id:"form-email",type:"email",placeholder:t.$t("Email"),modelValue:e(a).email,"onUpdate:modelValue":f[1]||(f[1]=n=>e(a).email=n),"default-value":e(a).email},null,8,["aria-invalid","placeholder","modelValue","default-value"]),l(F,{message:e(a).errors?.email?.[0]},null,8,["message"])]),k("div",he,[l(e(fe),{id:"form-is_active",modelValue:e(a).is_active,"onUpdate:modelValue":f[2]||(f[2]=n=>e(a).is_active=n),"default-value":e(a).is_active},null,8,["modelValue","default-value"]),l(e(S),{for:"form-is_active"},{default:r(()=>[h(b(t.$t("Is Active")),1)]),_:1})])]),l(e(ce),null,{default:r(()=>[l(e(R),{disabled:v.value||!e(a).isDirty,type:"submit","default-value":d.value?t.$t("Update"):t.$t("Add")},{default:r(()=>[h(b(d.value?t.$t("Update"):t.$t("Add"))+" ",1),v.value?(p(),g(e(le),{key:0})):A("",!0)]),_:1},8,["disabled","default-value"]),l(e(me),{"as-child":""},{default:r(()=>[l(e(R),{variant:"outline"},{default:r(()=>[h(b(t.$t("Close")),1)]),_:1})]),_:1})]),_:1})],32)]),_:1},8,["side"])]),_:1},8,["open"]))}});export{Fe as _};
