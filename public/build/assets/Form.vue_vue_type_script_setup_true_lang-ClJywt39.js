import{d as g,v as A,g as b,w as d,r as $,f as e,o as p,s as E,x as C,y as D,z as R,A as N,c as T,n as F,e as o,B as z,C as I,D as K,E as j,l as L,m as v,t as h,a as y}from"./app-BugyfZo9.js";import{_ as S}from"./InputError.vue_vue_type_script_setup_true_lang-Dwdkh9P8.js";import{_ as M}from"./Spinner.vue_vue_type_script_setup_true_lang-D3GEvhBZ.js";import{P as U,c as V,_ as q}from"./index-D4HVJ3kC.js";import{u as O}from"./useForwardPropsEmits-KEL8IpjZ.js";import{c as H}from"./VisuallyHidden-DfTYNH2j.js";import{V as G,u as J}from"./VisuallyHiddenInput-B9R_HUiK.js";import{u as Q,a as P}from"./useForwardExpose-DK47mm8_.js";import{r as W}from"./index-ByzHz6WH.js";import{_ as B}from"./Input.vue_vue_type_script_setup_true_lang-CkgNr6AQ.js";import{_ as w}from"./Label.vue_vue_type_script_setup_true_lang-CGxilFV8.js";import{D as X,_ as Y,a as Z,b as x,c as ee,d as ae}from"./SheetTitle.vue_vue_type_script_setup_true_lang-Sig3w83X.js";const[te,se]=H("SwitchRoot");var le=g({__name:"SwitchRoot",props:{defaultValue:{type:Boolean,required:!1},modelValue:{type:[Boolean,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},value:{type:String,required:!1,default:"on"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(u,{emit:i}){const s=u,m=i,{disabled:r}=A(s),n=Q(s,"modelValue",m,{defaultValue:s.defaultValue,passive:s.modelValue===void 0});function c(){r.value||(n.value=!n.value)}const{forwardRef:_,currentElement:l}=P(),k=J(l),t=N(()=>s.id&&l.value?document.querySelector(`[for="${s.id}"]`)?.innerText:void 0);return se({modelValue:n,toggleCheck:c,disabled:r}),(a,f)=>(p(),b(e(U),C(a.$attrs,{id:a.id,ref:e(_),role:"switch",type:a.as==="button"?"button":void 0,value:a.value,"aria-label":a.$attrs["aria-label"]||t.value,"aria-checked":e(n),"aria-required":a.required,"data-state":e(n)?"checked":"unchecked","data-disabled":e(r)?"":void 0,"as-child":a.asChild,as:a.as,disabled:e(r),onClick:c,onKeydown:D(R(c,["prevent"]),["enter"])}),{default:d(()=>[$(a.$slots,"default",{modelValue:e(n)}),e(k)&&a.name?(p(),b(e(G),{key:0,type:"checkbox",name:a.name,disabled:e(r),required:a.required,value:a.value,checked:!!e(n)},null,8,["name","disabled","required","value","checked"])):E("v-if",!0)]),_:3},16,["id","type","value","aria-label","aria-checked","aria-required","data-state","data-disabled","as-child","as","disabled","onKeydown"]))}}),oe=le,de=g({__name:"SwitchThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(u){const i=te();return P(),(s,m)=>(p(),b(e(U),{"data-state":e(i).modelValue?.value?"checked":"unchecked","data-disabled":e(i).disabled.value?"":void 0,"as-child":s.asChild,as:s.as},{default:d(()=>[$(s.$slots,"default")]),_:3},8,["data-state","data-disabled","as-child","as"]))}}),re=de;const ie=g({__name:"SheetClose",props:{asChild:{type:Boolean},as:{}},setup(u){const i=u;return(s,m)=>(p(),b(e(X),C({"data-slot":"sheet-close"},i),{default:d(()=>[$(s.$slots,"default")]),_:3},16))}}),ne=g({__name:"SheetFooter",props:{class:{}},setup(u){const i=u;return(s,m)=>(p(),T("div",{"data-slot":"sheet-footer",class:F(e(V)("mt-auto flex flex-col gap-2 p-4",i.class))},[$(s.$slots,"default")],2))}}),ue=g({__name:"Switch",props:{defaultValue:{type:Boolean},modelValue:{type:[Boolean,null]},disabled:{type:Boolean},id:{},value:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(u,{emit:i}){const s=u,m=i,r=W(s,"class"),n=O(r,m);return(c,_)=>(p(),b(e(oe),C({"data-slot":"switch"},e(n),{class:e(V)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s.class)}),{default:d(l=>[o(e(re),{"data-slot":"switch-thumb",class:F(e(V)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"))},{default:d(()=>[$(c.$slots,"thumb",z(I(l)))]),_:2},1032,["class"])]),_:3},16,["class"]))}}),me={class:"grid flex-1 auto-rows-min gap-6 px-4"},ce={class:"grid gap-3"},fe={class:"grid gap-3"},pe={class:"flex items-center space-x-2"},qe=g({__name:"Form",setup(u){const i=localStorage.getItem("locale")||"en",{formSheetIsOpen:s,closeSheet:m,selectedRecord:r,submit:n,isSubmitting:c,errors:_}=K("sharedCrud"),l=j({id:0,name:"",email:"",is_active:!0}),k=t=>({id:t?.id??0,name:t?.name??"",email:t?.email??"",is_active:t?.is_active??!0});return L(s,()=>{l.defaults(k(r.value)),l.resetAndClearErrors()}),(t,a)=>(p(),b(e(ae),{open:e(s),"onUpdate:open":a[4]||(a[4]=f=>e(m)())},{default:d(()=>[o(e(Y),{side:e(i)==="ar"?"left":"right"},{default:d(()=>[o(e(Z),null,{default:d(()=>[o(e(x),null,{default:d(()=>[v(h(e(r)?t.$t("Edit User"):t.$t("Add User")),1)]),_:1}),o(e(ee),null,{default:d(()=>[v(h(e(r)?t.$t("Edit the details to update the user."):t.$t("Fill in the details to add a new user.")),1)]),_:1})]),_:1}),y("form",{onSubmit:a[3]||(a[3]=R(f=>e(n)("/users",e(l).data()),["prevent"]))},[y("div",me,[y("div",ce,[o(e(w),{for:"form-name_en"},{default:d(()=>[v(h(t.$t("Name")),1)]),_:1}),o(e(B),{"aria-invalid":!!e(_)?.name?.[0],id:"form-name_en",placeholder:t.$t("Name"),modelValue:e(l).name,"onUpdate:modelValue":a[0]||(a[0]=f=>e(l).name=f),"default-value":e(l).name},null,8,["aria-invalid","placeholder","modelValue","default-value"]),o(S,{message:e(_)?.name?.[0]},null,8,["message"])]),y("div",fe,[o(e(w),{for:"form-email"},{default:d(()=>[v(h(t.$t("Email")),1)]),_:1}),o(e(B),{"aria-invalid":!!e(_)?.email?.[0],id:"form-email",type:"email",placeholder:t.$t("Email"),modelValue:e(l).email,"onUpdate:modelValue":a[1]||(a[1]=f=>e(l).email=f),"default-value":e(l).email},null,8,["aria-invalid","placeholder","modelValue","default-value"]),o(S,{message:e(_)?.email?.[0]},null,8,["message"])]),y("div",pe,[o(e(ue),{id:"form-is_active",modelValue:e(l).is_active,"onUpdate:modelValue":a[2]||(a[2]=f=>e(l).is_active=f),"default-value":e(l).is_active},null,8,["modelValue","default-value"]),o(e(w),{for:"form-is_active"},{default:d(()=>[v(h(t.$t("Is Active")),1)]),_:1})])]),o(e(ne),null,{default:d(()=>[o(e(q),{disabled:e(c)||!e(l).isDirty,type:"submit","default-value":e(r)?t.$t("Update"):t.$t("Add")},{default:d(()=>[v(h(e(r)?t.$t("Update"):t.$t("Add"))+" ",1),e(c)?(p(),b(e(M),{key:0})):E("",!0)]),_:1},8,["disabled","default-value"]),o(e(ie),{"as-child":""},{default:d(()=>[o(e(q),{variant:"outline"},{default:d(()=>[v(h(t.$t("Close")),1)]),_:1})]),_:1})]),_:1})],32)]),_:1},8,["side"])]),_:1},8,["open"]))}});export{qe as _};
